<hibernate-mapping package="ru.ithex.model">
	<class name="Person" table="oltp.person">
		<id name="personID" column="person_id" type="java.lang.Integer">
			<generator class="increment" />
		</id>
		<property name="personType" column="person_type" type="java.lang.Integer" />
		<property name="firstName" column="first_name" type="java.lang.String" />
		<property name="lastName" column="last_name" type="java.lang.String" />
		<property name="patronymicName" column="patronymic_name" type="java.lang.String" />
		<property name="isNoPatronymic" column="is_no_patronymic" type="java.lang.Integer" />
		<property name="previousLastName" column="previous_last_name" type="java.lang.String" />
		<property name="age" column="age" type="java.lang.Integer" />
		<property name="sex" column="sex" type="java.lang.Integer" />
		<property name="birthPlace" column="birth_place" type="java.lang.String" />
		<property name="birthDate" column="birth_date" type="java.util.Date" />
		<property name="deathDate" column="death_date" type="java.util.Date" />
		<property name="citizenship" column="citizenship" type="java.lang.Integer" />
		<property name="maritalStatus" column="marital_status" type="java.lang.Integer" />
		<property name="education" column="education" type="java.lang.Integer" />
		<component name="passport" class="Document">
			<property name="issueDate" column="p_issue_date" type="java.util.Date" />
			<property name="serial" column="p_serial" type="java.lang.String" />
			<property name="number" column="p_number" type="java.lang.String" />
			<property name="issuer" column="p_issuer" type="java.lang.String" />
			<property name="subDivisionCode" column="p_sub_division_code" type="java.lang.String" />
		</component>
		<property name="email" column="email" type="java.lang.String" />
		<property name="workEmail" column="work_email" type="java.lang.String" />
		<component name="mobile" class="Phone">
			<property name="phoneNumber" column="ph_mobile_number" type="java.lang.String" />
			<property name="callsCount" column="ph_mobile_calls_count" type="java.lang.Integer" />
			<property name="contactsCount" column="ph_mobile_contacts_count" type="java.lang.Integer" />
			<property name="isActual" column="ph_mobile_is_actual" type="java.lang.Integer" />
			<property name="phoneContactDate" column="ph_mobile_contact_date" type="java.util.Date" />
			<property name="operator" column="ph_mobile_operator" type="java.lang.String" />		
		</component>
		<component name="regPhone" class="Phone">
			<property name="phoneNumber" column="ph_reg_number" type="java.lang.String" />
			<property name="callsCount" column="ph_reg_calls_count" type="java.lang.Integer" />
			<property name="contactsCount" column="ph_reg_contacts_count" type="java.lang.Integer" />
			<property name="isActual" column="ph_reg_is_actual" type="java.lang.Integer" />
			<property name="phoneContactDate" column="ph_reg_contact_date" type="java.util.Date" />
		</component>
		<component name="factPhone" class="Phone">
			<property name="phoneNumber" column="ph_fact_number" type="java.lang.String" />
			<property name="callsCount" column="ph_fact_calls_count" type="java.lang.Integer" />
			<property name="contactsCount" column="ph_fact_contacts_count" type="java.lang.Integer" />
			<property name="isActual" column="ph_fact_is_actual" type="java.lang.Integer" />
			<property name="phoneContactDate" column="ph_fact_contact_date" type="java.util.Date" />
		</component>
		<component name="vk" class="SocialNetwork">
			<property name="networkAccount" column="sn_vk_account" type="java.lang.String" />
			<property name="friendsNum" column="sn_vk_friends_num" type="java.lang.Integer" />		
		</component>
		<component name="fb" class="SocialNetwork">
			<property name="networkAccount" column="sn_fb_account" type="java.lang.String" />
			<property name="friendsNum" column="sn_fb_friends_num" type="java.lang.Integer" />		
		</component>
		<component name="instagram" class="SocialNetwork">
			<property name="networkAccount" column="sn_inst_account" type="java.lang.String" />
			<property name="friendsNum" column="sn_inst_friends_num" type="java.lang.Integer" />		
		</component>
		<component name="whatsApp" class="Messanger">
			<property name="messangerAccount" column="m_wa_account" type="java.lang.String" />
		</component>
		<component name="telegram" class="Messanger">
			<property name="messangerAccount" column="m_teleg_account" type="java.lang.String" />
		</component>
		<component name="viber" class="Messanger">
			<property name="messangerAccount" column="m_viber_account" type="java.lang.String" />
		</component>
		<component name="auto" class="Auto">
			<property name="make" column="au_make" type="java.lang.String" />
			<property name="model" column="au_model" type="java.lang.String" />
			<property name="year" column="au_year" type="java.lang.Integer" />
			<property name="isCredit" column="au_is_credit" type="java.lang.Integer" />
			<property name="cost" column="au_cost" type="java.math.BigDecimal" />
			<property name="carNumber" column="au_car_number" type="java.lang.String" />
			<property name="autoRegSerialNumber" column="au_reg_serial_number" type="java.lang.String" />
			<property name="vin" column="au_vin" type="java.lang.String" />
		</component>
		<component name="personCalcs" class="PersonCalcs">
			<property name="segment" column="pc_segment" type="java.lang.Integer" />
			<property name="totalIncome" column="pc_total_income" type="java.math.BigDecimal" />
		</component>
		<component name="regAddresses" class="Address">
			<property name="country" column="addr_reg_country" type="java.lang.String" />
			<property name="regionType" column="addr_reg_region_type" type="java.lang.String" />
			<property name="regionName" column="addr_reg_region_name" type="java.lang.String" />
			<property name="districtType" column="addr_reg_district_type" type="java.lang.String" />
			<property name="districtName" column="addr_reg_district_name" type="java.lang.String" />
			<property name="microdistrict" column="addr_reg_microdistrict" type="java.lang.String" />
			<property name="locationType" column="addr_reg_location_type" type="java.lang.String" />
			<property name="location" column="addr_reg_location" type="java.lang.String" />
			<property name="cityType" column="addr_reg_city_type" type="java.lang.String" />
			<property name="city" column="addr_reg_city" type="java.lang.String" />
			<property name="streetType" column="addr_reg_street_type" type="java.lang.String" />
			<property name="street" column="addr_reg_street" type="java.lang.String" />
			<property name="house" column="addr_reg_house" type="java.lang.String" />
			<property name="construction" column="addr_reg_construction" type="java.lang.String" />
			<property name="building" column="addr_reg_building" type="java.lang.String" />
			<property name="apartment" column="addr_reg_apartment" type="java.lang.String" />
			<property name="postIndex" column="addr_reg_postindex" type="java.lang.String" />
			<property name="registrationDate" column="addr_reg_registration_date" type="java.util.Date" />
			<property name="startLivingDate" column="addr_reg_start_living_date" type="java.util.Date" />
			<property name="gps" column="addr_reg_gps" type="java.lang.String" />
			<property name="fullAddress" column="addr_reg_full_address" type="java.lang.String" />
			<property name="codeKLADR" column="addr_reg_code_kladr" type="java.lang.String" />
			<property name="codeKLADE" column="addr_reg_code_klade" type="java.lang.String" />
			<property name="timeZone" column="addr_reg_time_zone" type="java.lang.Integer" />
		</component>
		<component name="factAddresses" class="Address">
            <property name="country" column="addr_fact_country" type="java.lang.String" />
            <property name="regionType" column="addr_fact_region_type" type="java.lang.String" />
            <property name="regionName" column="addr_fact_region_name" type="java.lang.String" />
            <property name="districtType" column="addr_fact_district_type" type="java.lang.String" />
            <property name="districtName" column="addr_fact_district_name" type="java.lang.String" />
            <property name="microdistrict" column="addr_fact_microdistrict" type="java.lang.String" />
            <property name="locationType" column="addr_fact_location_type" type="java.lang.String" />
            <property name="location" column="addr_fact_location" type="java.lang.String" />
            <property name="cityType" column="addr_fact_city_type" type="java.lang.String" />
            <property name="city" column="addr_fact_city" type="java.lang.String" />
            <property name="streetType" column="addr_fact_street_type" type="java.lang.String" />
            <property name="street" column="addr_fact_street" type="java.lang.String" />
            <property name="house" column="addr_fact_house" type="java.lang.String" />
            <property name="construction" column="addr_fact_construction" type="java.lang.String" />
            <property name="building" column="addr_fact_building" type="java.lang.String" />
            <property name="apartment" column="addr_fact_apartment" type="java.lang.String" />
            <property name="postIndex" column="addr_fact_postindex" type="java.lang.String" />
            <property name="startLivingDate" column="addr_fact_start_living_date" type="java.util.Date" />
            <property name="gps" column="addr_fact_gps" type="java.lang.String" />
            <property name="fullAddress" column="addr_fact_full_address" type="java.lang.String" />
            <property name="codeKLADR" column="addr_fact_code_kladr" type="java.lang.String" />
            <property name="codeKLADE" column="addr_fact_code_klade" type="java.lang.String" />
            <property name="timeZone" column="addr_fact_time_zone" type="java.lang.Integer" />
        </component>
        <set name="documents" lazy="false" fetch="join" cascade="save-update, delete">
			<key column="person_fk"/>
			<one-to-many class="Document"/>
		</set>
		<set name="employments" lazy="false" fetch="join" cascade="save-update, delete">
			<key column="person_fk"/>
			<one-to-many class="Employment"/>
		</set>
		<set name="interests" lazy="false" fetch="join" cascade="save-update, delete">
			<key column="person_fk"/>
			<one-to-many class="Interest"/>
		</set>
		<set name="thirdPersons" lazy="false" fetch="join" cascade="save-update, delete">
			<key column="person_fk"/>
			<one-to-many class="Person"/>
		</set>
	</class>	
</hibernate-mapping>